
@{
    ViewBag.Title = "Kullanıcılar";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@using System.Web.Security
@model MembershipUserCollection

<div class="container">
    <div class="row">
        <div class="sparkline13-list shadow-reset" style="margin-top:130px">
            <div class="sparkline13-hd">
                <div class="main-sparkline13-hd">
                    <h1>Kullanıcı Listesi</h1>
                    <div class="sparkline13-outline-icon">
                        <span class="sparkline13-collapse-link"><i class="fa fa-chevron-up"></i></span>
                        <span class="sparkline13-collapse-close"><i class="fa fa-times"></i></span>
                        <a href="/User/AddUser" class="btn btn-custon-rounded-two btn-warning btn-xs">Kullanıcı Ekle</a>
                    </div>

                </div>
            </div>
            <div class="sparkline13-graph">
                <div class="datatable-dashv1-list custom-datatable-overright">
                    <table id="table" data-toggle="table" data-pagination="true" data-search="true" data-show-columns="true" data-show-pagination-switch="true" data-show-refresh="true" data-key-events="true" data-show-toggle="true" data-resizable="true" data-cookie="true" data-cookie-id-table="saveId" data-show-export="true" data-click-to-select="true" data-toolbar="#toolbar" class="table table-hover JColResizer">
                        <thead>
                            <tr>

                                <th style="width: 6%;" data-field="name" tabindex="0"><div class="th-inner "></div><div class="fht-cell"></div></th>
                                <th style="width: 8%;" data-field="name" tabindex="0"><div class="th-inner ">Kullanıcı Adı</div><div class="fht-cell"></div></th>
                                <th style="width: 7%;" data-field="name" tabindex="0"><div class="th-inner ">Email</div><div class="fht-cell"></div></th>
                                <th style="width: 8.5%;" data-field="name" tabindex="0"><div class="th-inner ">Rol Ata</div><div class="fht-cell"></div></th>
                                <th style="width: 6%;" data-field="name" tabindex="0"><div class="th-inner ">Sil</div><div class="fht-cell"></div></th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (MembershipUser mu in Model)
                            {

                                <tr>
                                    <td></td>
                                    <td>@mu.UserName</td>
                                    <td>@mu.Email</td>
                                    <td><a class="btn btn-primary addRole" href="#" data-username="@mu.UserName">Rol Ata</a></td>
                                    <td><a href="#" class="btn btn-danger deleteUser" data-username="@mu.UserName">Sil</a></td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script src="~/Content/js/vendor/jquery-1.11.3.min.js"></script>
    <script>
    $(".addRole").on('click', function () {
    const username = $(this).attr("data-username");
    window.location.href = "/User/UserInRoles?username=" + username;
    });
    </script>
}